%!TEX TS-program = xelatex
%!TEX encoding = UTF-8 Unicode
%!BIB TS-program = biber
%!BIB program = biber

\documentclass[a4paper,11pt,twoside,headsepline]{scrbook}

\usepackage[spanish,es-tabla,es-noshorthands,es-ucroman]{babel}
\usepackage{xltxtra}
\usepackage{fontspec}
\usepackage{xunicode}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage[top=3cm,bottom=3cm,outer=3cm,inner=2cm]{geometry}
\usepackage[Bjornstrup]{fncychap}
\usepackage{graphicx}
\usepackage{amssymb}
\usepackage[breaklinks=true]{hyperref}
\def\UrlBreaks{\do\/\do-}
\usepackage{hyperxmp}
\usepackage{enumerate}
\usepackage{siunitx}
\usepackage{float}
\usepackage{mdwlist}
\usepackage[table,usenames,dvipsnames]{xcolor}
\usepackage{titlesec}
%\usepackage{subfigure}
\usepackage[autostyle]{csquotes}
\usepackage[style=authoryear,natbib=true,%
maxbibnames=99,maxcitenames=2,%
citestyle=authoryear-comp,doi=true,url=true,backend=biber,dashed=no]{biblatex}
\bibliography{\jobname}
\usepackage[hypcap]{caption}
\usepackage{epigraph}
\usepackage{framed}
\usepackage{dcolumn}
\usepackage{pdflscape}
\usepackage{booktabs}
\usepackage{subcaption}
\usepackage{hhline}
\usepackage{multirow}
\usepackage{afterpage}
\usepackage[multiple]{footmisc}
\usepackage{pdfpages}

\usepackage[section]{placeins}

\usepackage[colorinlistoftodos, shadow]{todonotes}
  \presetkeys{todonotes}{inline}{}
\usepackage{morewrites} % problem with todolist 

\usepackage{makeidx}\makeindex
\usepackage{pifont}% http://tex.stackexchange.com/questions/42619/x-mark-to-match-checkmark
\newcommand{\cmark}{{\color{OliveGreen}\ding{51}}}
\newcommand{\xmark}{{\color{red}\ding{55}}}

\theoremstyle{definition}
\newtheorem{definition}{Definición}[chapter]

\theoremstyle{definition}
\newtheorem{example}{Ejemplo}[chapter]

\usepackage{csvsimple}

%% plantuml %%
\usepackage{filecontents}
\usepackage{tikz}
\usetikzlibrary{calc}

\sisetup{output-decimal-marker={.},
	group-digits=true,
	group-minimum-digits={3},
	group-separator = \text{\,},
	product-units=single,
	detect-all, detect-inline-family=text, detect-inline-weight=text,
  detect-display-math=true}

\hyphenation{%
WordNet%
}

%% minted %%
\makeatletter
\renewcommand\fs@ruled{\def\@fs@cfont{\bfseries}\let\@fs@capt\floatc@ruled
  \def\@fs@pre{\hrule height.8pt depth0pt \kern2pt}%
  \def\@fs@post{\vskip-0.7\baselineskip\kern2pt\hrule\relax}%
  \def\@fs@mid{\kern2pt\hrule\kern2pt}%
  \let\@fs@iftopcapt\iftrue}
\makeatother
\floatstyle{ruled}
\usepackage[chapter]{minted}
\newcommand{\codep}[2][python]{%
	\mintinline{#1}{#2}%
}
\newcommand{\codet}[2][text]{%
	\mintinline[escapeinside=@@]{#1}{#2}%
}
\renewcommand{\listingscaption}{Código}
\providecommand*{\listingautorefname}{\listingscaption}
\renewcommand{\listoflistingscaption}{Índice de códigos}
\setminted{breaklines=true,linenos=true}

\newcommand*{\fullref}[1]{\hyperref[{#1}]{\autoref*{#1}: ``\nameref*{#1}''}}

%% estilo %%

\defaultfontfeatures{%Mapping=tex-text,
  Numbers={Lining}}
\setmonofont[Scale=0.8]{Menlo}
\newfontfamily\portadafont{Arial Bold}
%\DefineBibliographyStrings{spanish}{andothers={et~al\adddot}}
\newfontfamily\nombrefont{Futura}[Scale=0.94]
\newcommand{\nombrebf}[1]{\textbf{\sffamily #1}}
\newcommand{\nombre}[1]{\begingroup\nombrefont #1\endgroup}
\setromanfont[Mapping=tex-text]{Hoefler Text}
%\setsansfont[Scale=MatchLowercase,Mapping=tex-text]{Gill Sans}
%\setmonofont[Scale=0.9]{Courier New}


\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}

%\setlength{\parindent}{2em}
\setlength{\parskip}{1em plus4mm minus3mm}
\linespread{1.1}

%% reduce widows
\makeatletter
\@beginparpenalty=10000
\makeatother
\clubpenalty=8000
\widowpenalty=6000


%% doc info %%
\newcommand{\pfctitle}{Procesamiento del Lenguaje Natural aplicado al Análisis del Sentimiento de opiniones}
\newcommand{\pfcauthor}{Guillermo Gutiérrez-Herrera}
\newcommand{\pfcdate}{septiembre de 2015}

\title{\pfctitle}
\author{\pfcauthor}
\date{\pfcdate}

\hypersetup{
  pdftitle=\pfctitle,
  pdfauthor=\pfcauthor,
  pdfkeywords={Natural Language Processing, Machine Learning, Sentiment Analysis},
  pdfcontactemail={guiguther@alum.us.es},
  pdflang={es},
}

\usepackage{txstd830}

\begin{document}

\frontmatter

\pagenumbering{gobble}
\clearpage
\input{portada}

\cleardoublepage
\pagenumbering{roman}
\input{agradecimientos}

\cleardoublepage
\tableofcontents

\mainmatter

%% %% %% %% %% %% %%

\input{estructura-principal}

%% %% %% %% %% %% %%

\backmatter

%% biliografía %%
\nocite{*}
\printbibliography[heading=bibintoc,title=\bibname]

%% índices y tablas %

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Índice de tablas}
\listoftables

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Índice de figuras}
\listoffigures

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Índice de códigos}
\listoflistings

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\listSRSActorname}
\listofSRSActor

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\listSRSObjname}
\listofSRSObj

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\listSRSIrqname}
\listofSRSIrq

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{\listSRSNfrname}
\listofSRSNfr

\cleardoublepage
\phantomsection
\addcontentsline{toc}{chapter}{Índice alfabético}
\printindex

\end{document}
